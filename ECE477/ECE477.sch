EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr D 34000 22000
encoding utf-8
Sheet 1 1
Title "ECE 477 PCB"
Date ""
Rev "One"
Comp "Sowen Seeds"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L 2020-08-25_13-35-24:STM32H7_LQFP144_T2 U1
U 1 1 5F46820E
P 11800 11800
F 0 "U1" H 13000 12187 60  0000 C CNN
F 1 "STM32H7_LQFP144_T2" H 13000 12081 60  0000 C CNN
F 2 "LQFP-144" H 13000 12040 60  0001 C CNN
F 3 "" H 11800 11800 60  0000 C CNN
	1    11800 11800
	1    0    0    -1  
$EndComp
$Comp
L 2020-08-25_13-35-24:STM32H7_LQFP144_T2 U1
U 2 1 5F46EB3B
P 9450 1700
F 0 "U1" H 10550 2087 60  0000 C CNN
F 1 "STM32H7_LQFP144_T2" H 10550 1981 60  0000 C CNN
F 2 "LQFP-144" H 10650 1940 60  0001 C CNN
F 3 "" H 9450 1700 60  0000 C CNN
	2    9450 1700
	1    0    0    -1  
$EndComp
$Comp
L 2020-08-25_13-35-24:STM32H7_LQFP144_T2 U1
U 3 1 5F47363C
P 2250 2550
F 0 "U1" H 3350 2937 60  0000 C CNN
F 1 "STM32H7_LQFP144_T2" H 3350 2831 60  0000 C CNN
F 2 "LQFP-144" H 3450 2790 60  0001 C CNN
F 3 "" H 2250 2550 60  0000 C CNN
	3    2250 2550
	1    0    0    -1  
$EndComp
$Comp
L 2020-09-16_23-09-37:BQ29312APW U2
U 1 1 5F637243
P 28700 3950
F 0 "U2" H 30000 4337 60  0000 C CNN
F 1 "BQ29312APW" H 30000 4231 60  0000 C CNN
F 2 "PW24" H 30000 4190 60  0001 C CNN
F 3 "" H 28700 3950 60  0000 C CNN
	1    28700 3950
	1    0    0    -1  
$EndComp
$Comp
L SamacSys_Parts:PTN78020WAH IC1
U 1 1 5F63F739
P 25500 5450
F 0 "IC1" H 26200 5715 50  0000 C CNN
F 1 "PTN78020WAH" H 26200 5624 50  0000 C CNN
F 2 "EUL(R-PDSS-B7)" H 26750 5550 50  0001 L CNN
F 3 "http://www.ti.com/lit/gpn/ptn78020w" H 26750 5450 50  0001 L CNN
F 4 "6-A Wide-Input Voltage Adjustable Switching Regulator" H 26750 5350 50  0001 L CNN "Description"
F 5 "" H 26750 5250 50  0001 L CNN "Height"
F 6 "Texas Instruments" H 26750 5150 50  0001 L CNN "Manufacturer_Name"
F 7 "PTN78020WAH" H 26750 5050 50  0001 L CNN "Manufacturer_Part_Number"
F 8 "PTN78020WAH" H 26750 4950 50  0001 L CNN "Arrow Part Number"
F 9 "https://www.arrow.com/en/products/ptn78020wah/texas-instruments" H 26750 4850 50  0001 L CNN "Arrow Price/Stock"
F 10 "595-PTN78020WAH" H 26750 4750 50  0001 L CNN "Mouser Part Number"
F 11 "https://www.mouser.co.uk/ProductDetail/Texas-Instruments/PTN78020WAH?qs=sSOk4GDDv7wwVFPVhz2GuA%3D%3D" H 26750 4650 50  0001 L CNN "Mouser Price/Stock"
	1    25500 5450
	1    0    0    -1  
$EndComp
$Comp
L R-555.0DA:R-555.0DA PS1
U 1 1 5F642365
P 23700 5450
F 0 "PS1" H 23700 5917 50  0000 C CNN
F 1 "R-555.0DA" H 23700 5826 50  0000 C CNN
F 2 "CONV_R-555.0DA" H 23700 5450 50  0001 L BNN
F 3 "Recom" H 23700 5450 50  0001 L BNN
F 4 "4" H 23700 5450 50  0001 L BNN "Field4"
F 5 "Manufacturer Recommendations" H 23700 5450 50  0001 L BNN "Field5"
F 6 "9.1mm" H 23700 5450 50  0001 L BNN "Field6"
	1    23700 5450
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 4850 4800 4850
Wire Wire Line
	4450 4950 4800 4950
Wire Wire Line
	4450 5050 4800 5050
Wire Wire Line
	4800 4850 4800 4950
Connection ~ 4800 4950
Wire Wire Line
	4800 4950 4800 5050
Wire Wire Line
	4800 4850 4950 4850
Connection ~ 4800 4850
Text GLabel 4950 4850 2    50   Input ~ 0
VCAP
Wire Wire Line
	2250 4350 1950 4350
Wire Wire Line
	2250 4250 1950 4250
Wire Wire Line
	2250 4150 1950 4150
Wire Wire Line
	1950 4350 1950 4250
Connection ~ 1950 4250
Wire Wire Line
	1950 4250 1950 4150
Wire Wire Line
	1950 4150 1800 4150
Connection ~ 1950 4150
Wire Wire Line
	2250 3750 1950 3750
Wire Wire Line
	2250 3650 1950 3650
Wire Wire Line
	2250 3450 1950 3450
Wire Wire Line
	2250 3350 1950 3350
Wire Wire Line
	2250 3250 1950 3250
Wire Wire Line
	2250 3150 1950 3150
Wire Wire Line
	2250 3050 1950 3050
Wire Wire Line
	2250 2950 1950 2950
Wire Wire Line
	2250 2850 1950 2850
Wire Wire Line
	2250 2750 1950 2750
Wire Wire Line
	2250 2650 1950 2650
Wire Wire Line
	2250 2550 1950 2550
Wire Wire Line
	1950 2300 1950 2550
Connection ~ 1950 2550
Wire Wire Line
	1950 2550 1950 2650
Connection ~ 1950 2650
Wire Wire Line
	1950 2650 1950 2750
Connection ~ 1950 2750
Wire Wire Line
	1950 2750 1950 2850
Connection ~ 1950 2850
Wire Wire Line
	1950 2850 1950 2950
Connection ~ 1950 2950
Wire Wire Line
	1950 2950 1950 3050
Connection ~ 1950 3050
Wire Wire Line
	1950 3050 1950 3150
Connection ~ 1950 3150
Wire Wire Line
	1950 3150 1950 3250
Connection ~ 1950 3250
Wire Wire Line
	1950 3250 1950 3350
Connection ~ 1950 3350
Wire Wire Line
	1950 3350 1950 3450
Connection ~ 1950 3450
Connection ~ 1950 3650
Wire Wire Line
	1950 3650 1950 3750
Text GLabel 1800 4150 0    50   Input ~ 0
VDD_LDO
Text GLabel 1950 2300 1    50   Input ~ 0
VDD_MCU
Wire Wire Line
	1950 3450 1950 3650
Wire Wire Line
	2250 3550 1800 3550
Text GLabel 1800 3550 0    50   Input ~ 0
VDD_MCU
Text GLabel 1450 5900 1    50   Output ~ 0
VDD_MCU
$Comp
L pspice:CAP C2
U 1 1 5F6CCF34
P 2000 6350
F 0 "C2" H 2178 6396 50  0000 L CNN
F 1 "100nF" H 2178 6305 50  0000 L CNN
F 2 "" H 2000 6350 50  0001 C CNN
F 3 "~" H 2000 6350 50  0001 C CNN
	1    2000 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C5
U 1 1 5F6D1965
P 3800 6350
F 0 "C5" H 3978 6396 50  0000 L CNN
F 1 "100nF" H 3978 6305 50  0000 L CNN
F 2 "" H 3800 6350 50  0001 C CNN
F 3 "~" H 3800 6350 50  0001 C CNN
	1    3800 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C6
U 1 1 5F6D196B
P 4400 6350
F 0 "C6" H 4578 6396 50  0000 L CNN
F 1 "100nF" H 4578 6305 50  0000 L CNN
F 2 "" H 4400 6350 50  0001 C CNN
F 3 "~" H 4400 6350 50  0001 C CNN
	1    4400 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C7
U 1 1 5F6D1971
P 5000 6350
F 0 "C7" H 5178 6396 50  0000 L CNN
F 1 "100nF" H 5178 6305 50  0000 L CNN
F 2 "" H 5000 6350 50  0001 C CNN
F 3 "~" H 5000 6350 50  0001 C CNN
	1    5000 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C8
U 1 1 5F6D40B4
P 5600 6350
F 0 "C8" H 5778 6396 50  0000 L CNN
F 1 "100nF" H 5778 6305 50  0000 L CNN
F 2 "" H 5600 6350 50  0001 C CNN
F 3 "~" H 5600 6350 50  0001 C CNN
	1    5600 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C9
U 1 1 5F6D40BA
P 6200 6350
F 0 "C9" H 6378 6396 50  0000 L CNN
F 1 "100nF" H 6378 6305 50  0000 L CNN
F 2 "" H 6200 6350 50  0001 C CNN
F 3 "~" H 6200 6350 50  0001 C CNN
	1    6200 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C10
U 1 1 5F6D40C0
P 6800 6350
F 0 "C10" H 6978 6396 50  0000 L CNN
F 1 "100nF" H 6978 6305 50  0000 L CNN
F 2 "" H 6800 6350 50  0001 C CNN
F 3 "~" H 6800 6350 50  0001 C CNN
	1    6800 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C11
U 1 1 5F6D60E2
P 7400 6350
F 0 "C11" H 7578 6396 50  0000 L CNN
F 1 "100nF" H 7578 6305 50  0000 L CNN
F 2 "" H 7400 6350 50  0001 C CNN
F 3 "~" H 7400 6350 50  0001 C CNN
	1    7400 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C12
U 1 1 5F6D60E8
P 8000 6350
F 0 "C12" H 8178 6396 50  0000 L CNN
F 1 "100nF" H 8178 6305 50  0000 L CNN
F 2 "" H 8000 6350 50  0001 C CNN
F 3 "~" H 8000 6350 50  0001 C CNN
	1    8000 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C13
U 1 1 5F6D60EE
P 8600 6350
F 0 "C13" H 8778 6396 50  0000 L CNN
F 1 "100nF" H 8778 6305 50  0000 L CNN
F 2 "" H 8600 6350 50  0001 C CNN
F 3 "~" H 8600 6350 50  0001 C CNN
	1    8600 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C14
U 1 1 5F6D6DFD
P 9200 6350
F 0 "C14" H 9378 6396 50  0000 L CNN
F 1 "100nF" H 9378 6305 50  0000 L CNN
F 2 "" H 9200 6350 50  0001 C CNN
F 3 "~" H 9200 6350 50  0001 C CNN
	1    9200 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C1
U 1 1 5F6D795D
P 1450 6350
F 0 "C1" H 1628 6396 50  0000 L CNN
F 1 "4.7uF" H 1628 6305 50  0000 L CNN
F 2 "" H 1450 6350 50  0001 C CNN
F 3 "~" H 1450 6350 50  0001 C CNN
	1    1450 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C4
U 1 1 5F6CFD5A
P 3200 6350
F 0 "C4" H 3378 6396 50  0000 L CNN
F 1 "100nF" H 3378 6305 50  0000 L CNN
F 2 "" H 3200 6350 50  0001 C CNN
F 3 "~" H 3200 6350 50  0001 C CNN
	1    3200 6350
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C3
U 1 1 5F6CF1AF
P 2600 6350
F 0 "C3" H 2778 6396 50  0000 L CNN
F 1 "100nF" H 2778 6305 50  0000 L CNN
F 2 "" H 2600 6350 50  0001 C CNN
F 3 "~" H 2600 6350 50  0001 C CNN
	1    2600 6350
	1    0    0    -1  
$EndComp
Wire Wire Line
	9200 6600 8600 6600
Connection ~ 2000 6600
Wire Wire Line
	2000 6600 1450 6600
Connection ~ 2600 6600
Wire Wire Line
	2600 6600 2000 6600
Connection ~ 3200 6600
Wire Wire Line
	3200 6600 2600 6600
Connection ~ 3800 6600
Wire Wire Line
	3800 6600 3200 6600
Connection ~ 4400 6600
Wire Wire Line
	4400 6600 3800 6600
Connection ~ 5000 6600
Wire Wire Line
	5000 6600 4400 6600
Connection ~ 5600 6600
Wire Wire Line
	5600 6600 5000 6600
Connection ~ 6200 6600
Wire Wire Line
	6200 6600 5600 6600
Connection ~ 6800 6600
Wire Wire Line
	6800 6600 6200 6600
Connection ~ 7400 6600
Wire Wire Line
	7400 6600 6800 6600
Connection ~ 8000 6600
Wire Wire Line
	8000 6600 7400 6600
Connection ~ 8600 6600
Wire Wire Line
	8600 6600 8000 6600
Wire Wire Line
	9200 6100 8600 6100
Connection ~ 2000 6100
Wire Wire Line
	2000 6100 1450 6100
Connection ~ 2600 6100
Wire Wire Line
	2600 6100 2000 6100
Connection ~ 3200 6100
Wire Wire Line
	3200 6100 2600 6100
Connection ~ 3800 6100
Wire Wire Line
	3800 6100 3200 6100
Connection ~ 4400 6100
Wire Wire Line
	4400 6100 3800 6100
Connection ~ 5000 6100
Wire Wire Line
	5000 6100 4400 6100
Connection ~ 5600 6100
Wire Wire Line
	5600 6100 5000 6100
Connection ~ 6200 6100
Wire Wire Line
	6200 6100 5600 6100
Connection ~ 6800 6100
Wire Wire Line
	6800 6100 6200 6100
Connection ~ 7400 6100
Wire Wire Line
	7400 6100 6800 6100
Connection ~ 8000 6100
Wire Wire Line
	8000 6100 7400 6100
Connection ~ 8600 6100
Wire Wire Line
	8600 6100 8000 6100
Wire Wire Line
	1450 6600 1450 6750
Connection ~ 1450 6600
Wire Wire Line
	1450 6100 1450 5900
Connection ~ 1450 6100
$Comp
L power:GND #PWR01
U 1 1 5F6F346B
P 1450 6750
F 0 "#PWR01" H 1450 6500 50  0001 C CNN
F 1 "GND" H 1455 6577 50  0000 C CNN
F 2 "" H 1450 6750 50  0001 C CNN
F 3 "" H 1450 6750 50  0001 C CNN
	1    1450 6750
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C15
U 1 1 5F6F91A3
P 2200 7400
F 0 "C15" H 2378 7446 50  0000 L CNN
F 1 "100nF" H 2378 7355 50  0000 L CNN
F 2 "" H 2200 7400 50  0001 C CNN
F 3 "~" H 2200 7400 50  0001 C CNN
	1    2200 7400
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C16
U 1 1 5F6FA8B5
P 3000 7400
F 0 "C16" H 3178 7446 50  0000 L CNN
F 1 "1uF" H 3178 7355 50  0000 L CNN
F 2 "" H 3000 7400 50  0001 C CNN
F 3 "~" H 3000 7400 50  0001 C CNN
	1    3000 7400
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C17
U 1 1 5F6FC46D
P 3600 7400
F 0 "C17" H 3778 7446 50  0000 L CNN
F 1 "100nF" H 3778 7355 50  0000 L CNN
F 2 "" H 3600 7400 50  0001 C CNN
F 3 "~" H 3600 7400 50  0001 C CNN
	1    3600 7400
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C18
U 1 1 5F6FF8FF
P 4400 7400
F 0 "C18" H 4578 7446 50  0000 L CNN
F 1 "1uF" H 4578 7355 50  0000 L CNN
F 2 "" H 4400 7400 50  0001 C CNN
F 3 "~" H 4400 7400 50  0001 C CNN
	1    4400 7400
	1    0    0    -1  
$EndComp
$Comp
L pspice:CAP C19
U 1 1 5F7012C3
P 5000 7400
F 0 "C19" H 5178 7446 50  0000 L CNN
F 1 "100nF" H 5178 7355 50  0000 L CNN
F 2 "" H 5000 7400 50  0001 C CNN
F 3 "~" H 5000 7400 50  0001 C CNN
	1    5000 7400
	1    0    0    -1  
$EndComp
Wire Wire Line
	4400 7650 5000 7650
Wire Wire Line
	5000 7150 4400 7150
Wire Wire Line
	4400 7150 4400 7000
Connection ~ 4400 7150
Wire Wire Line
	4400 7650 4400 7800
Connection ~ 4400 7650
Wire Wire Line
	3000 7650 3600 7650
Wire Wire Line
	3600 7150 3000 7150
Wire Wire Line
	3000 7150 3000 7000
Connection ~ 3000 7150
Wire Wire Line
	3000 7650 3000 7800
Connection ~ 3000 7650
Wire Wire Line
	2200 7150 2200 7000
Wire Wire Line
	2200 7650 2200 7800
Text GLabel 2200 7000 1    50   Input ~ 0
VBAT
$Comp
L power:GND #PWR02
U 1 1 5F716E92
P 2200 7800
F 0 "#PWR02" H 2200 7550 50  0001 C CNN
F 1 "GND" H 2205 7627 50  0000 C CNN
F 2 "" H 2200 7800 50  0001 C CNN
F 3 "" H 2200 7800 50  0001 C CNN
	1    2200 7800
	1    0    0    -1  
$EndComp
$Comp
L power:GNDA #PWR03
U 1 1 5F71C473
P 3000 7800
F 0 "#PWR03" H 3000 7550 50  0001 C CNN
F 1 "GNDA" H 3005 7627 50  0000 C CNN
F 2 "" H 3000 7800 50  0001 C CNN
F 3 "" H 3000 7800 50  0001 C CNN
	1    3000 7800
	1    0    0    -1  
$EndComp
$Comp
L power:GNDA #PWR04
U 1 1 5F71DBCC
P 4400 7800
F 0 "#PWR04" H 4400 7550 50  0001 C CNN
F 1 "GNDA" H 4405 7627 50  0000 C CNN
F 2 "" H 4400 7800 50  0001 C CNN
F 3 "" H 4400 7800 50  0001 C CNN
	1    4400 7800
	1    0    0    -1  
$EndComp
Text GLabel 3000 7000 1    50   Input ~ 0
VDDA
Text GLabel 4400 7000 1    50   Input ~ 0
VREF+
Wire Wire Line
	2250 3950 1350 3950
Wire Wire Line
	2250 5050 1350 5050
$Comp
L Device:R_US R2
U 1 1 5F725EB7
P 1350 4900
F 0 "R2" H 1418 4946 50  0000 L CNN
F 1 "0R" H 1418 4855 50  0000 L CNN
F 2 "" V 1390 4890 50  0001 C CNN
F 3 "~" H 1350 4900 50  0001 C CNN
	1    1350 4900
	1    0    0    -1  
$EndComp
Wire Wire Line
	1350 3950 1350 4600
Wire Wire Line
	1350 5050 1200 5050
Connection ~ 1350 5050
Wire Wire Line
	1350 4600 1200 4600
Connection ~ 1350 4600
Wire Wire Line
	1350 4600 1350 4750
$Comp
L Device:R_US R1
U 1 1 5F72EED5
P 900 4600
F 0 "R1" H 968 4646 50  0000 L CNN
F 1 "0R" H 968 4555 50  0000 L CNN
F 2 "" V 940 4590 50  0001 C CNN
F 3 "~" H 900 4600 50  0001 C CNN
	1    900  4600
	0    -1   -1   0   
$EndComp
Wire Wire Line
	750  4600 700  4600
Wire Wire Line
	700  4600 700  4400
Wire Wire Line
	1200 4600 1200 4400
Connection ~ 1200 4600
Wire Wire Line
	1200 4600 1050 4600
Text GLabel 1200 4400 1    50   Input ~ 0
VDDA
Text GLabel 700  4400 1    50   Input ~ 0
VDD_MCU
Text GLabel 1200 5050 0    50   Input ~ 0
VREF+
Wire Wire Line
	4450 4650 4800 4650
Wire Wire Line
	4800 4650 4800 3750
Wire Wire Line
	4450 3750 4800 3750
Connection ~ 4800 3750
Wire Wire Line
	4800 3750 4800 3650
Wire Wire Line
	4450 3650 4800 3650
Connection ~ 4800 3650
Wire Wire Line
	4800 3650 4800 3550
Wire Wire Line
	4450 3550 4800 3550
Connection ~ 4800 3550
Wire Wire Line
	4800 3550 4800 3450
Wire Wire Line
	4450 3450 4800 3450
Connection ~ 4800 3450
Wire Wire Line
	4800 3450 4800 3350
Wire Wire Line
	4450 3350 4800 3350
Connection ~ 4800 3350
Wire Wire Line
	4800 3350 4800 3250
Wire Wire Line
	4450 3250 4800 3250
Connection ~ 4800 3250
Wire Wire Line
	4800 3250 4800 3150
Wire Wire Line
	4450 3150 4800 3150
Connection ~ 4800 3150
Wire Wire Line
	4800 3150 4800 3050
Wire Wire Line
	4450 3050 4800 3050
Connection ~ 4800 3050
Wire Wire Line
	4800 3050 4800 2950
Wire Wire Line
	4450 2950 4800 2950
Connection ~ 4800 2950
Wire Wire Line
	4800 2950 4800 2850
Wire Wire Line
	4450 2850 4800 2850
Connection ~ 4800 2850
Wire Wire Line
	4800 2850 4800 2750
Wire Wire Line
	4450 2750 4800 2750
Connection ~ 4800 2750
Wire Wire Line
	4800 2750 4800 2650
Wire Wire Line
	4450 2650 4800 2650
Connection ~ 4800 2650
Wire Wire Line
	4800 2650 4800 2550
Wire Wire Line
	4450 2550 4800 2550
Connection ~ 4800 2550
Wire Wire Line
	4800 2550 4800 2300
$Comp
L power:GND #PWR?
U 1 1 5F76AB5D
P 4800 2300
F 0 "#PWR?" H 4800 2050 50  0001 C CNN
F 1 "GND" H 4805 2127 50  0000 C CNN
F 2 "" H 4800 2300 50  0001 C CNN
F 3 "" H 4800 2300 50  0001 C CNN
	1    4800 2300
	-1   0    0    1   
$EndComp
$EndSCHEMATC
